# php-education

Для запуска локального окружения использовать:

```bash
$ docker-compose up -d
```

Для остановки локального окружения использовать:

```bash
$ docker-compose down
```

Данные для подключения к СУБД:
 * Хост: 127.0.0.1
 * Порт: 5432
 * Логин: php-education
 * Пароль: php-education
 * База данных: php-education

Для запуска локального веб-сервера использовать:

```bash
$ php ./server.php
```
В файле ```.env``` хранятся переменные окружения, которые можно "достать"
с помощью соответствующей функции ***env***, которая выполняет обращение к классу
***EnvLoader***. Функция и класс описаны в файле ```/home/utilities.php```

В файле ```index.php``` описаны основной класс ***QueryBuilder***, с помощью которого
реализована обработка запросов к базе данных. Доступные методы ***QueryBuilder*** :
* WHERE
```php
    public function where(
        string $column,         //Принимает имя выбранного столбца
        string $operator,       //Принимает передаваемый оператор
        mixed $value,           //Принимает значение выбранного столбца
        string $boolean = 'and' //Метод соединения с предшествующим WHERE запросом
        ) : self                //Возвращает экземпляр класса
    /* @usage
     * 
     * QueryBuilder->select()
     *      ->where('id', '=', 10)
     *      ->where('name', 'like', %abc%, 'or')
     *      ->where('created_at', '>', '2022-26-09')
     * 
     * will create query
     * 
     * "SELECT * FROM 'articles'
     *  WHERE id = 10 or name LIKE '%abc%' and created_at > '2022-26-09'
     * 
     */ 
```

<div style="color: red;font-weight:700;font-size:30px; text-align: center">
!CAUTION!
</div>

>***Больные Идеи!***
> 
>>В данный момент в мою больную голову пришли интересные идеи по доработке кода
Мне очень хочется, чтобы проект умел такие штуки-дрюки:
* ```./server.php``` пробовал открыть порт и в случае неудачи пробовал следующий
* Настроить бы логирование во временный файл, который будет сохраняться при ошибках
* В ```*volumes*``` сохранять такие логи, чтобы при перезапуске контейнера они оставались живы
